<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–î–∞—à–±–æ—Ä–¥ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Ç–∏</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            padding: 30px;
            background: #f8f9fa;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        .stat-card h3 {
            color: #333;
            margin-bottom: 10px;
        }

        .stat-value {
            font-size: 2em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .tabs {
            display: flex;
            background: #f8f9fa;
            border-bottom: 1px solid #dee2e6;
            overflow-x: auto;
        }

        .tab {
            padding: 20px;
            text-align: center;
            cursor: pointer;
            background: #f8f9fa;
            border: none;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s ease;
            white-space: nowrap;
            min-width: 150px;
        }

        .tab:hover {
            background: #e9ecef;
        }

        .tab.active {
            background: white;
            border-bottom: 3px solid #ff6b6b;
            color: #ff6b6b;
        }

        .tab-content {
            display: none;
            padding: 30px;
        }

        .tab-content.active {
            display: block;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
        }

        .card {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #dee2e6;
        }

        .card h3 {
            color: #333;
            margin-bottom: 15px;
        }

        .alert {
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .alert.critical {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }

        .alert.high {
            background: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }

        .alert.medium {
            background: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }

        .alert.low {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–æ–æ—Ç–Ω–æ—à–µ–Ω–∏—è —Ç–æ–∫–µ–Ω–æ–≤ */
        .token-ratio-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin: 20px 0;
        }

        .ratio-item {
            text-align: center;
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border: 2px solid #e9ecef;
            min-width: 150px;
        }

        .ratio-item h4 {
            color: #333;
            margin-bottom: 10px;
            font-size: 1.1em;
        }

        .ratio-value {
            font-size: 1.5em;
            font-weight: bold;
            color: #ff6b6b;
            margin-bottom: 5px;
        }

        .ratio-percentage {
            color: #666;
            font-size: 0.9em;
        }

        .ratio-separator {
            font-size: 2em;
            font-weight: bold;
            color: #333;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —É—á–µ—Ç–∞ –∑–∞—Ç—Ä–∞—Ç */
        .cost-summary {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .cost-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #ff6b6b;
        }

        .cost-item.total {
            background: #e3f2fd;
            border-left-color: #2196f3;
            font-weight: bold;
            font-size: 1.1em;
        }

        .cost-label {
            font-weight: 500;
            color: #333;
        }

        .cost-value {
            font-weight: bold;
            color: #ff6b6b;
        }

        .token-calculation {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .calculation-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .calculation-item.result {
            background: #e8f5e8;
            border: 2px solid #4caf50;
            font-weight: bold;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .cost-history {
            overflow-x: auto;
        }

        .cost-history table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .cost-history th,
        .cost-history td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .cost-history th {
            background: #f8f9fa;
            font-weight: 600;
            color: #495057;
        }

        .cost-history tr:hover {
            background: #f8f9fa;
        }

        .transparency-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .transparency-item {
            padding: 20px;
            background: #f8f9fa;
            border-radius: 8px;
            border-left: 4px solid #28a745;
        }

        .transparency-item h4 {
            color: #28a745;
            margin-bottom: 10px;
        }

        .transparency-item p {
            color: #666;
            margin-bottom: 15px;
        }

        .ratio-info {
            text-align: center;
            background: #e3f2fd;
            border: 1px solid #bbdefb;
            border-radius: 8px;
            padding: 15px;
            margin-top: 15px;
        }

        .ratio-info p {
            margin: 5px 0;
        }

        .ratio-info strong {
            color: #1976d2;
        }

        .btn {
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            color: white;
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #6c757d, #495057);
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .table th,
        .table td {
            padding: 15px;
            text-align: left;
            border-bottom: 1px solid #dee2e6;
        }

        .table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .table tr:hover {
            background: #f8f9fa;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #333;
        }

        .form-group input,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid #e9ecef;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group select:focus {
            outline: none;
            border-color: #ff6b6b;
        }

        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #ff6b6b, #ee5a24);
            transition: width 0.3s ease;
        }

        .status-badge {
            padding: 4px 8px;
            border-radius: 12px;
            font-size: 12px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-safe {
            background: #d4edda;
            color: #155724;
        }

        .status-warning {
            background: #fff3cd;
            color: #856404;
        }

        .status-danger {
            background: #f8d7da;
            color: #721c24;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–∞–≤–∏–ª —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∏ */
        .tokenomics-rules {
            display: grid;
            gap: 20px;
        }

        .rule-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #ff6b6b;
        }

        .rule-section h4 {
            margin: 0 0 15px 0;
            color: #333;
            font-size: 1.1em;
        }

        .rule-section ul {
            margin: 0;
            padding-left: 20px;
        }

        /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–µ–∫—Ü–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ */
        .conversion-section {
            display: grid;
            gap: 20px;
        }

        .ut-holders-list {
            max-height: 300px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 10px;
            background: #f8f9fa;
        }

        .ut-holder-item {
            display: flex;
            align-items: center;
            padding: 8px;
            border-bottom: 1px solid #eee;
        }

        .ut-holder-item:last-child {
            border-bottom: none;
        }

        .ut-holder-item input[type="checkbox"] {
            margin-right: 10px;
        }

        .ut-holder-item label {
            flex: 1;
            cursor: pointer;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .ut-balance {
            font-weight: bold;
            color: #28a745;
        }

        .exchange-rate {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .exchange-rate input {
            width: 100px;
        }

        .conversion-summary {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #2196f3;
        }

        .conversion-summary h4 {
            margin: 0 0 10px 0;
            color: #1976d2;
        }

        .conversion-item {
            display: flex;
            justify-content: space-between;
            padding: 5px 0;
            border-bottom: 1px solid #bbdefb;
        }

        .conversion-item:last-child {
            border-bottom: none;
            font-weight: bold;
            color: #1976d2;
        }

        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }

        .btn-primary:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        .btn-secondary {
            background: #6c757d;
            color: white;
            border: none;
        }

        .btn-secondary:hover {
            background: #5a6268;
        }

        .rule-section li {
            margin: 8px 0;
            line-height: 1.5;
        }

        .rule-section strong {
            color: #ff6b6b;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üëë –î–∞—à–±–æ—Ä–¥ –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Å–µ—Ç–∏</h1>
            <p>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–ª–æ–∫—á–µ–π–Ω —Å–µ—Ç—å—é —Ñ—É–¥—Ç—Ä–∞–∫–æ–≤</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>Security Tokens</h3>
                <div class="stat-value" id="ownerTokens">0.00</div>
            </div>
            <div class="stat-card">
                <h3>Utility Tokens</h3>
                <div class="stat-value" id="ownerUtilityTokens">0.00</div>
            </div>
            <div class="stat-card">
                <h3>–ü—Ä–æ—Ü–µ–Ω—Ç –≤–ª–∞–¥–µ–Ω–∏—è</h3>
                <div class="stat-value" id="ownerPercentage">0.00%</div>
            </div>
            <div class="stat-card">
                <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã</h3>
                <div class="stat-value" id="activeAlerts">0</div>
            </div>
            <div class="stat-card">
                <h3>–§—Ä–∞–Ω—à–∏–∑–Ω—ã–µ –Ω–æ–¥—ã</h3>
                <div class="stat-value" id="franchiseNodes">0</div>
            </div>
            <div class="stat-card">
                <h3>–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ–Ω–¥</h3>
                <div class="stat-value" id="charityFund">0.00</div>
            </div>
            <div class="stat-card">
                <h3>–ù–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã</h3>
                <div class="stat-value" id="unclaimedTokens">0.00</div>
            </div>
        </div>

        <div class="tabs">
            <button class="tab active" onclick="showTab('monitoring')">–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥</button>
            <button class="tab" onclick="showTab('franchises')">–§—Ä–∞–Ω—à–∏–∑—ã</button>
            <button class="tab" onclick="showTab('token-emission')">–≠–º–∏—Å—Å–∏—è —Ç–æ–∫–µ–Ω–æ–≤</button>
            <button class="tab" onclick="showTab('cost-accounting')">–£—á–µ—Ç –∑–∞—Ç—Ä–∞—Ç</button>
            <button class="tab" onclick="showTab('streams')">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∏–º–∞–º–∏</button>
            <button class="tab" onclick="showTab('image-management')">–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</button>
            <button class="tab" onclick="showTab('unclaimed')">–ù–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ</button>
            <button class="tab" onclick="showTab('security')">–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å</button>
        </div>

        <!-- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ -->
        <div id="monitoring" class="tab-content active">
            <h2>–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Å–∏—Å—Ç–µ–º—ã</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤</h3>
                    <div id="tokenDistribution">
                        <div class="progress-bar">
                            <div class="progress-fill" id="ownerProgress" style="width: 48%"></div>
                        </div>
                        <p>–í–ª–∞–¥–µ–ª–µ—Ü: <span id="ownerTokensPercent">48.00%</span></p>
                        
                        <div class="progress-bar">
                            <div class="progress-fill" id="charityProgress" style="width: 3%; background: #28a745;"></div>
                        </div>
                        <p>–ë–ª–∞–≥–æ—Ç–≤–æ—Ä–∏—Ç–µ–ª—å–Ω—ã–π —Ñ–æ–Ω–¥: <span id="charityTokensPercent">3.00%</span></p>
                        
                        <div class="progress-bar">
                            <div class="progress-fill" id="othersProgress" style="width: 49%; background: #17a2b8;"></div>
                        </div>
                        <p>–û—Å—Ç–∞–ª—å–Ω—ã–µ: <span id="othersTokensPercent">49.00%</span></p>
                    </div>
                </div>

                <div class="card">
                    <h3>–¢–æ–∫–µ–Ω–æ–º–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã</h3>
                    <div id="tokenRatio">
                        <div class="token-ratio-display">
                            <div class="ratio-item">
                                <h4>Security Tokens (ST)</h4>
                                <div class="ratio-value" id="securityTokensCount">0</div>
                                <div class="ratio-percentage">–ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∑–∞ –ø—Ä–æ–¥–∞–∂–∏</div>
                            </div>
                            <div class="ratio-separator">‚â†</div>
                            <div class="ratio-item">
                                <h4>Utility Tokens (SPOT)</h4>
                                <div class="ratio-value" id="utilityTokensCount">0</div>
                                <div class="ratio-percentage">–ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</div>
                            </div>
                        </div>
                        <div class="ratio-info">
                            <p><strong>–ù–æ–≤–∞—è —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∞:</strong></p>
                            <p><strong>ST (Security Tokens):</strong> –¢–æ–ª—å–∫–æ –∑–∞ –ø—Ä–æ–¥–∞–∂–∏ (1 GEL = 0.2 ST)</p>
                            <p><strong>UT (Utility Tokens - SPOT):</strong> –¢–æ–ª—å–∫–æ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</p>
                            <ul style="text-align: left; margin: 10px 0;">
                                <li>1 SPOT –∑–∞ –∫–∞–∂–¥–æ–µ 5-–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ</li>
                                <li>1 SPOT –∑–∞ 2 —á–∞—Å–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å—Ç—Ä–∏–º–æ–≤</li>
                                <li>1 SPOT –∑–∞ —Ä–µ–ø–æ—Å—Ç/–∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å 50+ –ª–∞–π–∫–∞–º–∏</li>
                                <li>1 SPOT –∑–∞ —Å–µ—Å—Å–∏—é —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ (–º–∞–∫—Å. 45 –º–∏–Ω)</li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ –∞–ª–µ—Ä—Ç—ã</h3>
                    <div id="alertsList">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –§—Ä–∞–Ω—à–∏–∑—ã -->
        <div id="franchises" class="tab-content">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—Ä–∞–Ω—à–∏–∑–∞–º–∏</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>–î–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–Ω—à–∏–∑–Ω—É—é –Ω–æ–¥—É</h3>
                    <form id="franchiseForm">
                        <div class="form-group">
                            <label>ID –Ω–æ–¥—ã:</label>
                            <input type="text" id="nodeId" required>
                        </div>
                        <div class="form-group">
                            <label>–ê–¥—Ä–µ—Å –≤–ª–∞–¥–µ–ª—å—Ü–∞ —Ñ—Ä–∞–Ω—à–∏–∑—ã:</label>
                            <input type="text" id="franchiseOwner" required>
                        </div>
                        <button type="submit" class="btn">–î–æ–±–∞–≤–∏—Ç—å —Ñ—Ä–∞–Ω—à–∏–∑—É</button>
                    </form>
                </div>

                <div class="card">
                    <h3>–°–ø–∏—Å–æ–∫ —Ñ—Ä–∞–Ω—à–∏–∑</h3>
                    <div id="franchisesList">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ—Ä–∞–Ω—à–∏–∑...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –≠–º–∏—Å—Å–∏—è —Ç–æ–∫–µ–Ω–æ–≤ -->
        <div id="token-emission" class="tab-content">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–æ–π</h2>
            
            <div class="card">
                <h3>üìä –ü—Ä–∞–≤–∏–ª–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤</h3>
                <div class="tokenomics-rules">
                    <div class="rule-section">
                        <h4>üîí Security Tokens (ST) - –¢–æ–ª—å–∫–æ –∑–∞ –ø—Ä–æ–¥–∞–∂–∏</h4>
                        <ul>
                            <li><strong>1 GEL = 0.2 ST</strong> - –∑–∞ –∫–∞–∂–¥—É—é –ø–æ–∫—É–ø–∫—É</li>
                            <li>ST —Ç–æ–∫–µ–Ω—ã –¥–∞—é—Ç –ø—Ä–∞–≤–æ –Ω–∞ –¥–∏–≤–∏–¥–µ–Ω–¥—ã</li>
                            <li>–¢—Ä–µ–±—É—é—Ç KYC –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏</li>
                            <li>–ú–æ–≥—É—Ç –±—ã—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ –∞–∫—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏</li>
                        </ul>
                    </div>
                    
                    <div class="rule-section">
                        <h4>üéØ Utility Tokens (SPOT) - –¢–æ–ª—å–∫–æ –∑–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å</h4>
                        <ul>
                            <li><strong>1 SPOT –∑–∞ –∫–∞–∂–¥–æ–µ 5-–µ –ø–æ—Å–µ—â–µ–Ω–∏–µ</strong> (–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ø–æ–∫—É–ø–∫–∞)</li>
                            <li><strong>1 SPOT –∑–∞ 2 —á–∞—Å–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞</strong> —Å—Ç—Ä–∏–º–æ–≤</li>
                            <li><strong>1 SPOT –∑–∞ —Ä–µ–ø–æ—Å—Ç</strong> –∏–ª–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å 50+ –ª–∞–π–∫–∞–º–∏</li>
                            <li><strong>1 SPOT –∑–∞ —Å–µ—Å—Å–∏—é —Å—Ç—Ä–∏–º–∏–Ω–≥–∞</strong> (–º–∞–∫—Å–∏–º—É–º 45 –º–∏–Ω—É—Ç)</li>
                            <li>SPOT —Ç–æ–∫–µ–Ω—ã –Ω–µ –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è (Soulbound)</li>
                            <li>–î–∞—é—Ç –ø—Ä–∞–≤–æ –≥–æ–ª–æ—Å–∞ –≤ DAO</li>
                        </ul>
                    </div>
                    
                    <div class="rule-section">
                        <h4>üèÜ –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —á–µ–∫–æ–≤</h4>
                        <ul>
                            <li><strong>50% –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —á–µ–∫–æ–≤</strong> —Ä–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –≤ –∫–æ–Ω—Ü–µ –≥–æ–¥–∞</li>
                            <li>–£—á–∞—Å—Ç–≤—É—é—Ç —Ç–æ–ª—å–∫–æ –¥–µ—Ä–∂–∞—Ç–µ–ª–∏ SPOT –≤—ã—à–µ –º–µ–¥–∏–∞–Ω–Ω–æ–≥–æ —Å—Ä–µ–¥–Ω–µ–≥–æ</li>
                            <li>–†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É SPOT</li>
                        </ul>
                    </div>
                </div>
            </div>
            
            <div class="card">
                <h3>‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∏</h3>
                <form id="tokenomicsSettingsForm">
                    <div class="form-group">
                        <label>ST –∑–∞ 1 GEL:</label>
                        <input type="number" id="stPerGel" value="0.2" step="0.01" min="0" max="1">
                    </div>
                    <div class="form-group">
                        <label>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —Å–µ—Å—Å–∏—è —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ (–º–∏–Ω—É—Ç—ã):</label>
                        <input type="number" id="maxStreamingMinutes" value="45" min="1" max="120">
                    </div>
                    <div class="form-group">
                        <label>–ú–∏–Ω–∏–º—É–º –ª–∞–π–∫–æ–≤ –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:</label>
                        <input type="number" id="minLikesForComment" value="50" min="1" max="1000">
                    </div>
                    <div class="form-group">
                        <label>–ü—Ä–æ—Ü–µ–Ω—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–Ω—ã—Ö —á–µ–∫–æ–≤ –¥–ª—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è:</label>
                        <input type="number" id="unusedChecksPercentage" value="50" min="0" max="100">
                    </div>
                    <button type="submit" class="btn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
                </form>
            </div>
            
            <div class="card">
                <h3>üîÑ –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è UT (SPOT) –≤ ST (THP)</h3>
                <div class="conversion-section">
                    <div class="form-group">
                        <label>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π UT (SPOT):</label>
                        <div class="ut-holders-list">
                            <div class="ut-holder-item">
                                <input type="checkbox" id="selectAll" onchange="toggleAllHolders()">
                                <label for="selectAll"><strong>–í—ã–±—Ä–∞—Ç—å –≤—Å–µ—Ö</strong></label>
                            </div>
                            <div id="utHoldersList">
                                <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π UT...</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label>–ö—É—Ä—Å –æ–±–º–µ–Ω–∞ (SPOT ‚Üí ST):</label>
                        <div class="exchange-rate">
                            <input type="number" id="exchangeRate" value="10" min="1" max="1000" step="1">
                            <span>SPOT = 1 ST</span>
                        </div>
                        <small>–£–∫–∞–∂–∏—Ç–µ, —Å–∫–æ–ª—å–∫–æ SPOT —Ç–æ–∫–µ–Ω–æ–≤ –Ω—É–∂–Ω–æ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è 1 ST —Ç–æ–∫–µ–Ω–∞</small>
                    </div>
                    
                    <div class="conversion-summary">
                        <h4>–°–≤–æ–¥–∫–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏:</h4>
                        <div id="conversionSummary">
                            <p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π UT –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–≤–æ–¥–∫–∏</p>
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <button type="button" class="btn btn-primary" onclick="executeConversion()" id="convertBtn" disabled>
                            üîÑ –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é
                        </button>
                        <button type="button" class="btn btn-secondary" onclick="clearSelection()">
                            üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—ã–±–æ—Ä
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –£—á–µ—Ç –∑–∞—Ç—Ä–∞—Ç -->
        <div id="cost-accounting" class="tab-content">
            <h2>–°–∏—Å—Ç–µ–º–∞ —É—á–µ—Ç–∞ –∑–∞—Ç—Ä–∞—Ç</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>–û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã —Å–µ—Ç–∏</h3>
                    <div class="cost-summary">
                        <div class="cost-item">
                            <span class="cost-label">–°—ã—Ä—å–µ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã:</span>
                            <span class="cost-value" id="ingredientsCost">0.00 GEL</span>
                        </div>
                        <div class="cost-item">
                            <span class="cost-label">–ê—Ä–µ–Ω–¥–∞ –∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ:</span>
                            <span class="cost-value" id="rentCost">0.00 GEL</span>
                        </div>
                        <div class="cost-item">
                            <span class="cost-label">–ó–∞—Ä–ø–ª–∞—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞:</span>
                            <span class="cost-value" id="salaryCost">0.00 GEL</span>
                        </div>
                        <div class="cost-item">
                            <span class="cost-label">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–µ–∫–ª–∞–º–∞:</span>
                            <span class="cost-value" id="marketingCost">0.00 GEL</span>
                        </div>
                        <div class="cost-item total">
                            <span class="cost-label">–û–±—â–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã:</span>
                            <span class="cost-value" id="totalCost">0.00 GEL</span>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3>–†–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤</h3>
                    <div class="token-calculation">
                        <div class="calculation-item">
                            <span>–ó–∞—Ç—Ä–∞—Ç—ã –Ω–∞ —ç–º–∏—Å—Å–∏—é:</span>
                            <span id="emissionCost">0.00 GEL</span>
                        </div>
                        <div class="calculation-item">
                            <span>–ö—É—Ä—Å —ç–º–∏—Å—Å–∏–∏:</span>
                            <span>1 THP = 5 GEL –∑–∞—Ç—Ä–∞—Ç</span>
                        </div>
                        <div class="calculation-item result">
                            <span>–¢–æ–∫–µ–Ω–æ–≤ –∫ —ç–º–∏—Å—Å–∏–∏:</span>
                            <span id="tokensToEmit">0 THP</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="card">
                <h3>–î–æ–±–∞–≤–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã</h3>
                <form id="costForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è –∑–∞—Ç—Ä–∞—Ç:</label>
                            <select id="costCategory" required>
                                <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é</option>
                                <option value="ingredients">–°—ã—Ä—å–µ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã</option>
                                <option value="rent">–ê—Ä–µ–Ω–¥–∞ –∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ</option>
                                <option value="salary">–ó–∞—Ä–ø–ª–∞—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞</option>
                                <option value="marketing">–ú–∞—Ä–∫–µ—Ç–∏–Ω–≥ –∏ —Ä–µ–∫–ª–∞–º–∞</option>
                                <option value="other">–ü—Ä–æ—á–∏–µ —Ä–∞—Å—Ö–æ–¥—ã</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>–°—É–º–º–∞ (GEL):</label>
                            <input type="number" id="costAmount" step="0.01" min="0" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                        <textarea id="costDescription" rows="3" placeholder="–î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç..."></textarea>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>–î–∞—Ç–∞:</label>
                            <input type="date" id="costDate" required>
                        </div>
                        <div class="form-group">
                            <label>–§—Ä–∞–Ω—à–∏–∑–∞:</label>
                            <select id="franchiseId">
                                <option value="network">–í—Å—è —Å–µ—Ç—å</option>
                                <option value="franchise_001">–§—Ä–∞–Ω—à–∏–∑–∞ 001</option>
                                <option value="franchise_002">–§—Ä–∞–Ω—à–∏–∑–∞ 002</option>
                            </select>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏—Ç—å –∑–∞—Ç—Ä–∞—Ç—ã</button>
                </form>
            </div>

            <div class="card">
                <h3>–ò—Å—Ç–æ—Ä–∏—è –∑–∞—Ç—Ä–∞—Ç</h3>
                <div class="cost-history">
                    <table id="costHistoryTable">
                        <thead>
                            <tr>
                                <th>–î–∞—Ç–∞</th>
                                <th>–ö–∞—Ç–µ–≥–æ—Ä–∏—è</th>
                                <th>–°—É–º–º–∞</th>
                                <th>–û–ø–∏—Å–∞–Ω–∏–µ</th>
                                <th>–§—Ä–∞–Ω—à–∏–∑–∞</th>
                                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
                            </tr>
                        </thead>
                        <tbody id="costHistoryBody">
                            <!-- –ó–∞–ø–∏—Å–∏ –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="card">
                <h3>–ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å –∏ –æ—Ç—á–µ—Ç–Ω–æ—Å—Ç—å</h3>
                <div class="transparency-section">
                    <div class="transparency-item">
                        <h4>–ü—É–±–ª–∏—á–Ω—ã–µ –æ—Ç—á–µ—Ç—ã</h4>
                        <p>–í—Å–µ –∑–∞—Ç—Ä–∞—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É—é—Ç—Å—è –≤ –±–ª–æ–∫—á–µ–π–Ω–µ –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏.</p>
                        <button class="btn btn-secondary" onclick="generateTransparencyReport()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—á–µ—Ç</button>
                    </div>
                    <div class="transparency-item">
                        <h4>API –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏</h4>
                        <p>–ü–æ–∫—É–ø–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ –ø—É–±–ª–∏—á–Ω—ã–π API.</p>
                        <button class="btn btn-secondary" onclick="showAPIDocumentation()">–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ù–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã -->
        <div id="unclaimed" class="tab-content">
            <h2>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–º–∏ —Ç–æ–∫–µ–Ω–∞–º–∏</h2>
            
            <div class="grid">
                <div class="card">
                    <h3>–ù–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã</h3>
                    <div id="unclaimedList">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤...</p>
                    </div>
                    <button class="btn" onclick="distributeUnclaimedTokens()">–†–∞—Å–ø—Ä–µ–¥–µ–ª–∏—Ç—å –≤ –∫–æ–Ω—Ü–µ –≥–æ–¥–∞</button>
                </div>

                <div class="card">
                    <h3>–ò—Å—Ç–æ—Ä–∏—è —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π</h3>
                    <div id="distributionHistory">
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏...</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å -->
        <div id="security" class="tab-content">
            <h2>–û—Ç—á–µ—Ç –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏</h2>
            
            <div class="card">
                <h3>–°—Ç–∞—Ç—É—Å –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Å–µ—Ç–∏</h3>
                <div id="securityReport">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ç—á–µ—Ç–∞ –ø–æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...</p>
                </div>
            </div>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∏–º–∞–º–∏ -->
        <div id="streams" class="tab-content">
            <h2>üé• –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—Å–µ–º–∏ —Å—Ç—Ä–∏–º–∞–º–∏ —Å–µ—Ç–∏</h2>
            
            <div class="card">
                <h3>–ê–∫—Ç–∏–≤–Ω—ã–µ —Å—Ç—Ä–∏–º—ã</h3>
                <div id="activeStreams">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤...</p>
        </div>
    </div>

            <div class="card">
                <h3>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å—Ç—Ä–∏–º</h3>
                <div class="form-group">
                    <label for="streamType">–¢–∏–ø —Å—Ç—Ä–∏–º–∞:</label>
                    <select id="streamType">
                        <option value="camera">–ö–∞–º–µ—Ä–∞</option>
                        <option value="youtube">YouTube</option>
                        <option value="screen">–ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="streamTitle">–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∏–º–∞:</label>
                    <input type="text" id="streamTitle" placeholder="–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∏–º–∞">
                </div>
                
                <div class="form-group" id="cameraGroup" style="display: none;">
                    <label for="cameraSelect">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–º–µ—Ä—É:</label>
                    <select id="cameraSelect">
                        <option value="">–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞–º–µ—Ä...</option>
                    </select>
                </div>
                
                <div class="form-group" id="youtubeGroup" style="display: none;">
                    <label for="youtubeUrl">YouTube URL:</label>
                    <input type="url" id="youtubeUrl" placeholder="https://www.youtube.com/watch?v=...">
                </div>
                
                <div class="form-group">
                    <label for="streamQuality">–ö–∞—á–µ—Å—Ç–≤–æ:</label>
                    <select id="streamQuality">
                        <option value="medium">720p (–°—Ä–µ–¥–Ω–µ–µ)</option>
                        <option value="high">1080p (–í—ã—Å–æ–∫–æ–µ)</option>
                        <option value="ultra">4K (–£–ª—å—Ç—Ä–∞)</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="streamAutoStart"> –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫
                    </label>
                </div>
                
                <button class="btn" onclick="createStream()">üé¨ –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä–∏–º</button>
            </div>

            <div class="card">
                <h3>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–∏–º–∞–º–∏</h3>
                <div id="streamsList">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∏–º–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏ -->
        <div id="image-management" class="tab-content">
            <h2>üñºÔ∏è –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏</h2>
            
            <div class="card">
                <h3>–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è –∑–∞–º–µ–Ω—ã –∑–∞–±–ª—é—Ä–µ–Ω–Ω—ã—Ö –ª–∏—Ü</h3>
                <div class="form-group">
                    <label for="imageUpload">–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ:</label>
                    <input type="file" id="imageUpload" accept="image/*" multiple>
                </div>
                
                <div class="form-group">
                    <label for="imageCategory">–ö–∞—Ç–µ–≥–æ—Ä–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è:</label>
                    <select id="imageCategory">
                        <option value="face-replacement">–ó–∞–º–µ–Ω–∞ –ª–∏—Ü</option>
                        <option value="logo">–õ–æ–≥–æ—Ç–∏–ø</option>
                        <option value="background">–§–æ–Ω</option>
                        <option value="overlay">–ù–∞–ª–æ–∂–µ–Ω–∏–µ</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="imageDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                    <textarea id="imageDescription" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"></textarea>
                </div>
                
                <button class="btn" onclick="uploadImage()">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ</button>
            </div>

            <div class="card">
                <h3>–ó–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è</h3>
                <div id="uploadedImages">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π...</p>
                </div>
            </div>

            <div class="card">
                <h3>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–∏—Ü</h3>
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="enableFaceBlur" checked> –í–∫–ª—é—á–∏—Ç—å —Ä–∞–∑–º—ã—Ç–∏–µ –ª–∏—Ü
                    </label>
                </div>
                
                <div class="form-group">
                    <label>
                        <input type="checkbox" id="enableFaceReplacement"> –ó–∞–º–µ–Ω–∏—Ç—å –ª–∏—Ü–∞ –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
                    </label>
                </div>
                
                <div class="form-group">
                    <label for="blurIntensity">–ò–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑–º—ã—Ç–∏—è:</label>
                    <input type="range" id="blurIntensity" min="1" max="10" value="5">
                    <span id="blurValue">5</span>
                </div>
                
                <button class="btn" onclick="saveFaceSettings()">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</button>
            </div>
        </div>
    </div>

    <script>

        function loadMonitoringData() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetOwnerStats: {}
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.OwnerStats) {
                    updateOwnerStats(data.OwnerStats);
                }
            })
            .catch(error => {
                console.log('API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ');
                loadDemoData();
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∞–ª–µ—Ä—Ç–æ–≤
            loadAlerts();
        }

        function loadDemoData() {
            document.getElementById('ownerTokens').textContent = '2,400.00';
            document.getElementById('ownerPercentage').textContent = '48.00%';
            document.getElementById('activeAlerts').textContent = '3';
            document.getElementById('franchiseNodes').textContent = '6';
            document.getElementById('charityFund').textContent = '150.00';
            document.getElementById('unclaimedTokens').textContent = '245.00';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–≤–æ–π —Ç–æ–∫–µ–Ω–æ–º–∏–∫–µ
            document.getElementById('securityTokensCount').textContent = '0';
            document.getElementById('utilityTokensCount').textContent = '0';
        }

        function updateOwnerStats(stats) {
            // –û–±–Ω–æ–≤–ª—è–µ–º –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
            if (stats.owner_tokens !== undefined) {
                document.getElementById('ownerTokens').textContent = stats.owner_tokens.toFixed(2);
            }
            if (stats.owner_percentage !== undefined) {
                document.getElementById('ownerPercentage').textContent = stats.owner_percentage.toFixed(2) + '%';
            }
            if (stats.active_alerts !== undefined) {
                document.getElementById('activeAlerts').textContent = stats.active_alerts;
            }
            if (stats.franchise_nodes !== undefined) {
                document.getElementById('franchiseNodes').textContent = stats.franchise_nodes;
            }
            if (stats.charity_fund !== undefined) {
                document.getElementById('charityFund').textContent = stats.charity_fund.toFixed(2);
            }
            if (stats.unclaimed_tokens !== undefined) {
                document.getElementById('unclaimedTokens').textContent = stats.unclaimed_tokens.toFixed(2);
            }
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Ç–æ–∫–µ–Ω—ã —Å–æ–≥–ª–∞—Å–Ω–æ –Ω–æ–≤–æ–π —Ç–æ–∫–µ–Ω–æ–º–∏–∫–µ
            if (stats.security_tokens !== undefined) {
                document.getElementById('securityTokensCount').textContent = stats.security_tokens.toLocaleString();
            }
            if (stats.utility_tokens !== undefined) {
                document.getElementById('utilityTokensCount').textContent = stats.utility_tokens.toLocaleString();
            }
        }

        function loadAlerts() {
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetMonitoringAlerts: { limit: 10 }
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.MonitoringAlerts) {
                    displayAlerts(data.MonitoringAlerts.alerts);
                }
            })
            .catch(error => {
                // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –¥–ª—è –∞–ª–µ—Ä—Ç–æ–≤
                displayAlerts([
                    {
                        alert_type: 'OwnerExceedsLimit',
                        severity: 'Critical',
                        message: '–í–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–∏–±–ª–∏–∂–∞–µ—Ç—Å—è –∫ –ª–∏–º–∏—Ç—É: 47.8%',
                        timestamp: Date.now() - 3600000
                    },
                    {
                        alert_type: 'FranchiseExceedsLimit',
                        severity: 'High',
                        message: '–í–ª–∞–¥–µ–ª–µ—Ü —Ñ—Ä–∞–Ω—à–∏–∑—ã FranchiseOwner1 –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç: 49.2%',
                        timestamp: Date.now() - 7200000
                    },
                    {
                        alert_type: 'TokenConcentration',
                        severity: 'Medium',
                        message: '–í—ã—Å–æ–∫–∞—è –∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è utility —Ç–æ–∫–µ–Ω–æ–≤ —É Customer123: 35.2%',
                        timestamp: Date.now() - 10800000
                    }
                ]);
            });
        }

        function displayAlerts(alerts) {
            const alertsList = document.getElementById('alertsList');
            let html = '';

            alerts.forEach(alert => {
                const severityClass = alert.severity.toLowerCase();
                const timeAgo = new Date(alert.timestamp).toLocaleString();
                
                html += `
                    <div class="alert ${severityClass}">
                        <strong>${getAlertTypeText(alert.alert_type)}</strong><br>
                        ${alert.message}<br>
                        <small>${timeAgo}</small>
                    </div>
                `;
            });

            alertsList.innerHTML = html || '<p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –∞–ª–µ—Ä—Ç–æ–≤</p>';
        }

        function getAlertTypeText(alertType) {
            const types = {
                'OwnerExceedsLimit': '–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –≤–ª–∞–¥–µ–ª—å—Ü–∞',
                'FranchiseExceedsLimit': '–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ —Ñ—Ä–∞–Ω—à–∏–∑—ã',
                'CustomerExceedsLimit': '–ü—Ä–µ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞ –ø–æ–∫—É–ø–∞—Ç–µ–ª—è',
                'TokenConcentration': '–ö–æ–Ω—Ü–µ–Ω—Ç—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤',
                'CharityFundLow': '–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Ñ–æ–Ω–¥–∞'
            };
            return types[alertType] || alertType;
        }

        function loadFranchises() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Ñ—Ä–∞–Ω—à–∏–∑
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetFranchiseNodes: {}
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.FranchiseNodes) {
                    displayFranchises(data.FranchiseNodes.nodes);
                }
            })
            .catch(error => {
                // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                displayFranchises([
                    { node_id: 'FranchiseNode1', owner: 'FranchiseOwner1' },
                    { node_id: 'FranchiseNode2', owner: 'FranchiseOwner2' },
                    { node_id: 'FranchiseNode3', owner: 'FranchiseOwner3' }
                ]);
            });
        }

        function displayFranchises(franchises) {
            const franchisesList = document.getElementById('franchisesList');
            let html = '';

            franchises.forEach(franchise => {
                html += `
                    <div class="card" style="margin-bottom: 10px;">
                        <h4>${franchise.node_id}</h4>
                        <p>–í–ª–∞–¥–µ–ª–µ—Ü: ${franchise.owner}</p>
                        <button class="btn btn-secondary" onclick="removeFranchise('${franchise.node_id}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </div>
                `;
            });

            franchisesList.innerHTML = html || '<p>–ù–µ—Ç —Ñ—Ä–∞–Ω—à–∏–∑–Ω—ã—Ö –Ω–æ–¥</p>';
        }

        function loadUnclaimedTokens() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetUnclaimedTokens: { limit: 50 }
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.UnclaimedTokens) {
                    displayUnclaimedTokens(data.UnclaimedTokens.tokens);
                }
            })
            .catch(error => {
                // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                displayUnclaimedTokens([
                    { check_id: 'CHECK_123', amount: 49.0, created_timestamp: Date.now() - 86400000 },
                    { check_id: 'CHECK_124', amount: 98.0, created_timestamp: Date.now() - 172800000 }
                ]);
            });

            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π
            loadDistributionHistory();
        }

        function displayUnclaimedTokens(tokens) {
            const unclaimedList = document.getElementById('unclaimedList');
            let html = '';

            tokens.forEach(token => {
                const timeAgo = new Date(token.created_timestamp).toLocaleString();
                html += `
                    <div class="alert medium">
                        <strong>–ß–µ–∫ ${token.check_id}</strong><br>
                        –°—É–º–º–∞: ${token.amount} —Ç–æ–∫–µ–Ω–æ–≤<br>
                        <small>–°–æ–∑–¥–∞–Ω: ${timeAgo}</small>
                    </div>
                `;
            });

            unclaimedList.innerHTML = html || '<p>–ù–µ—Ç –Ω–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã—Ö —Ç–æ–∫–µ–Ω–æ–≤</p>';
        }

        function loadDistributionHistory() {
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetAnnualDistributions: { limit: 10 }
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.AnnualDistributions) {
                    displayDistributionHistory(data.AnnualDistributions.distributions);
                }
            })
            .catch(error => {
                // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                displayDistributionHistory([
                    { year: 2024, total_unclaimed_tokens: 245.0, distribution_timestamp: Date.now() - 86400000 }
                ]);
            });
        }

        function displayDistributionHistory(distributions) {
            const historyDiv = document.getElementById('distributionHistory');
            let html = '';

            distributions.forEach(dist => {
                const timeAgo = new Date(dist.distribution_timestamp).toLocaleString();
                html += `
                    <div class="alert low">
                        <strong>–ì–æ–¥ ${dist.year}</strong><br>
                        –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–æ: ${dist.total_unclaimed_tokens} —Ç–æ–∫–µ–Ω–æ–≤<br>
                        <small>${timeAgo}</small>
                    </div>
                `;
            });

            historyDiv.innerHTML = html || '<p>–ù–µ—Ç –∏—Å—Ç–æ—Ä–∏–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–π</p>';
        }

        function loadSecurityReport() {
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetNetworkSecurityReport: {}
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.NetworkSecurityReport) {
                    displaySecurityReport(data.NetworkSecurityReport);
                }
            })
            .catch(error => {
                // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
                displaySecurityReport({
                    is_secure: true,
                    total_security_tokens: 5000.0,
                    total_utility_tokens: 1000.0,
                    security_risks: [],
                    utility_risks: []
                });
            });
        }

        function displaySecurityReport(report) {
            const reportDiv = document.getElementById('securityReport');
            const statusClass = report.is_secure ? 'status-safe' : 'status-danger';
            const statusText = report.is_secure ? '–ë–ï–ó–û–ü–ê–°–ù–û' : '–û–ü–ê–°–ù–û';

            let html = `
                <div class="status-badge ${statusClass}">${statusText}</div>
                <p><strong>–û–±—â–∏–µ security —Ç–æ–∫–µ–Ω—ã:</strong> ${report.total_security_tokens.toFixed(2)}</p>
                <p><strong>–û–±—â–∏–µ utility —Ç–æ–∫–µ–Ω—ã:</strong> ${report.total_utility_tokens.toFixed(2)}</p>
            `;

            if (report.security_risks && report.security_risks.length > 0) {
                html += '<h4>–†–∏—Å–∫–∏ security —Ç–æ–∫–µ–Ω–æ–≤:</h4>';
                report.security_risks.forEach(risk => {
                    html += `<div class="alert high">${risk.address}: ${risk.percentage.toFixed(2)}%</div>`;
                });
            }

            if (report.utility_risks && report.utility_risks.length > 0) {
                html += '<h4>–†–∏—Å–∫–∏ utility —Ç–æ–∫–µ–Ω–æ–≤:</h4>';
                report.utility_risks.forEach(risk => {
                    html += `<div class="alert high">${risk.address}: ${risk.percentage.toFixed(2)}%</div>`;
                });
            }

            reportDiv.innerHTML = html;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Ñ–æ—Ä–º
        document.getElementById('franchiseForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const nodeId = document.getElementById('nodeId').value;
            const franchiseOwner = document.getElementById('franchiseOwner').value;

            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    AddFranchiseNode: {
                        node_id: nodeId,
                        franchise_owner: franchiseOwner
                    }
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.FranchiseNodeAdded && data.FranchiseNodeAdded.success) {
                    showAlert('–§—Ä–∞–Ω—à–∏–∑–Ω–∞—è –Ω–æ–¥–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!', 'success');
                    document.getElementById('franchiseForm').reset();
                    loadFranchises();
                } else {
                    showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ —Ñ—Ä–∞–Ω—à–∏–∑—ã: ' + (data.Error ? data.Error.message : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'), 'error');
                }
            })
            .catch(error => {
                showAlert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º', 'error');
            });
        });

        document.getElementById('emissionForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const investorAddress = document.getElementById('investorAddress').value;
            const tokenAmount = parseFloat(document.getElementById('tokenAmount').value);
            const reason = document.getElementById('emissionReason').value;

            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    EmitTokensForInvestors: {
                        investor_address: investorAddress,
                        amount: tokenAmount,
                        reason: reason
                    }
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.TokensEmitted && data.TokensEmitted.success) {
                    showAlert('–¢–æ–∫–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ –≤—ã–ø—É—â–µ–Ω—ã –¥–ª—è –∏–Ω–≤–µ—Å—Ç–æ—Ä–∞!', 'success');
                    document.getElementById('emissionForm').reset();
                } else {
                    showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —ç–º–∏—Å—Å–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤: ' + (data.Error ? data.Error.message : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'), 'error');
                }
            })
            .catch(error => {
                showAlert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º', 'error');
            });
        });

        function distributeUnclaimedTokens() {
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    DistributeUnclaimedTokensAnnually: {}
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.AnnualDistribution && data.AnnualDistribution.success) {
                    showAlert('–ù–µ–≤–æ—Å—Ç—Ä–µ–±–æ–≤–∞–Ω–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω—ã!', 'success');
                    loadUnclaimedTokens();
                } else {
                    showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–∏: ' + (data.Error ? data.Error.message : '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'), 'error');
                }
            })
            .catch(error => {
                showAlert('–û—à–∏–±–∫–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º', 'error');
            });
        }

        function showAlert(message, type) {
            const alert = document.createElement('div');
            alert.className = `alert ${type}`;
            alert.textContent = message;
            
            const container = document.querySelector('.tab-content.active');
            container.insertBefore(alert, container.firstChild);
            
            setTimeout(() => {
                alert.remove();
            }, 5000);
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É—á–µ—Ç–∞ –∑–∞—Ç—Ä–∞—Ç
        function loadCostAccountingData() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö –æ –∑–∞—Ç—Ä–∞—Ç–∞—Ö
            updateCostSummary();
            loadCostHistory();
        }

        function updateCostSummary() {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏ –∑–∞—Ç—Ä–∞—Ç
            const costs = {
                ingredients: 1250.50,
                rent: 800.00,
                salary: 2100.00,
                marketing: 450.75,
                other: 200.25
            };

            document.getElementById('ingredientsCost').textContent = costs.ingredients.toFixed(2) + ' GEL';
            document.getElementById('rentCost').textContent = costs.rent.toFixed(2) + ' GEL';
            document.getElementById('salaryCost').textContent = costs.salary.toFixed(2) + ' GEL';
            document.getElementById('marketingCost').textContent = costs.marketing.toFixed(2) + ' GEL';

            const total = Object.values(costs).reduce((sum, cost) => sum + cost, 0);
            document.getElementById('totalCost').textContent = total.toFixed(2) + ' GEL';

            // –†–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤ (1 THP = 5 GEL –∑–∞—Ç—Ä–∞—Ç)
            const tokensToEmit = Math.floor(total / 5);
            document.getElementById('emissionCost').textContent = total.toFixed(2) + ' GEL';
            document.getElementById('tokensToEmit').textContent = tokensToEmit + ' THP';
        }

        function loadCostHistory() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –∏—Å—Ç–æ—Ä–∏–∏ –∑–∞—Ç—Ä–∞—Ç
            const costHistory = [
                { date: '2024-01-15', category: '–°—ã—Ä—å–µ –∏ –∏–Ω–≥—Ä–µ–¥–∏–µ–Ω—Ç—ã', amount: 250.50, description: '–ó–∞–∫—É–ø–∫–∞ —Ä–∏—Å–∞ –∏ –º—è—Å–∞', franchise: '–§—Ä–∞–Ω—à–∏–∑–∞ 001' },
                { date: '2024-01-14', category: '–ó–∞—Ä–ø–ª–∞—Ç–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª–∞', amount: 500.00, description: '–ó–∞—Ä–ø–ª–∞—Ç–∞ –∑–∞ –Ω–µ–¥–µ–ª—é', franchise: '–í—Å—è —Å–µ—Ç—å' },
                { date: '2024-01-13', category: '–ê—Ä–µ–Ω–¥–∞ –∏ –∫–æ–º–º—É–Ω–∞–ª—å–Ω—ã–µ', amount: 200.00, description: '–ê—Ä–µ–Ω–¥–∞ –ø–æ–º–µ—â–µ–Ω–∏—è', franchise: '–§—Ä–∞–Ω—à–∏–∑–∞ 002' }
            ];

            const tbody = document.getElementById('costHistoryBody');
            tbody.innerHTML = '';

            costHistory.forEach(cost => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${cost.date}</td>
                    <td>${cost.category}</td>
                    <td>${cost.amount.toFixed(2)} GEL</td>
                    <td>${cost.description}</td>
                    <td>${cost.franchise}</td>
                    <td>
                        <button class="btn btn-sm btn-secondary" onclick="editCost('${cost.date}')">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                        <button class="btn btn-sm btn-danger" onclick="deleteCost('${cost.date}')">–£–¥–∞–ª–∏—Ç—å</button>
                    </td>
                `;
                tbody.appendChild(row);
            });
        }

        function generateTransparencyReport() {
            alert('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –æ—Ç—á–µ—Ç–∞ –æ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç–∏...\n–û—Ç—á–µ—Ç –±—É–¥–µ—Ç –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –≤ –±–ª–æ–∫—á–µ–π–Ω–µ –¥–ª—è –≤—Å–µ–æ–±—â–µ–≥–æ –¥–æ—Å—Ç—É–ø–∞.');
        }

        function showAPIDocumentation() {
            alert('API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:\n\nGET /api/costs/transparency - –ü–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ –∑–∞—Ç—Ä–∞—Ç–∞—Ö\nGET /api/costs/calculation - –ü–æ–ª—É—á–∏—Ç—å —Ä–∞—Å—á–µ—Ç —Ç–æ–∫–µ–Ω–æ–≤\nPOST /api/costs/verify - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å —Ä–∞—Å—á–µ—Ç–∞');
        }

        function editCost(costId) {
            alert('–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç—ã: ' + costId);
        }

        function deleteCost(costId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç—É –∑–∞–ø–∏—Å—å –æ –∑–∞—Ç—Ä–∞—Ç–∞—Ö?')) {
                alert('–ó–∞—Ç—Ä–∞—Ç–∞ —É–¥–∞–ª–µ–Ω–∞: ' + costId);
                loadCostHistory();
            }
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è showTab
        function showTab(tabName) {
            // –°–∫—Ä—ã—Ç—å –≤—Å–µ –≤–∫–ª–∞–¥–∫–∏
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });

            // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—É—é –≤–∫–ª–∞–¥–∫—É
            document.getElementById(tabName).classList.add('active');
            document.querySelector(`[onclick="showTab('${tabName}')"]`).classList.add('active');

            // –ó–∞–≥—Ä—É–∑–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–π –≤–∫–ª–∞–¥–∫–∏
            if (tabName === 'monitoring') {
                loadMonitoringData();
            } else if (tabName === 'franchises') {
                loadFranchises();
            } else if (tabName === 'token-emission') {
                loadUTHolders();
            } else if (tabName === 'cost-accounting') {
                loadCostAccountingData();
            } else if (tabName === 'streams') {
                loadStreamsData();
            } else if (tabName === 'image-management') {
                loadImageManagementData();
            } else if (tabName === 'unclaimed') {
                loadUnclaimedTokens();
            } else if (tabName === 'security') {
                loadSecurityReport();
            }
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –∑–∞—Ç—Ä–∞—Ç
        document.getElementById('costForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const formData = {
                category: document.getElementById('costCategory').value,
                amount: parseFloat(document.getElementById('costAmount').value),
                description: document.getElementById('costDescription').value,
                date: document.getElementById('costDate').value,
                franchise: document.getElementById('franchiseId').value
            };

            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–π –∑–∞–ø–∏—Å–∏ –æ –∑–∞—Ç—Ä–∞—Ç–∞—Ö
            alert('–ó–∞—Ç—Ä–∞—Ç—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã:\n' + 
                  '–ö–∞—Ç–µ–≥–æ—Ä–∏—è: ' + formData.category + '\n' +
                  '–°—É–º–º–∞: ' + formData.amount + ' GEL\n' +
                  '–î–∞—Ç–∞: ' + formData.date);

            // –û—á–∏—Å—Ç–∫–∞ —Ñ–æ—Ä–º—ã
            this.reset();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
            loadCostAccountingData();
        });

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∞–º–∏
        function loadStreamsData() {
            loadActiveStreams();
            loadStreamsList();
            loadCameras();
        }

        function loadActiveStreams() {
            fetch('http://localhost:8083/api/streams')
                .then(response => response.json())
                .then(streams => {
                    const activeStreams = streams.filter(stream => stream.status === 'Running');
                    const container = document.getElementById('activeStreams');
                    
                    if (activeStreams.length === 0) {
                        container.innerHTML = '<p>–ù–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤</p>';
                        return;
                    }
                    
                    container.innerHTML = activeStreams.map(stream => `
                        <div class="stream-item">
                            <h4>${stream.metadata.title}</h4>
                            <p>–¢–∏–ø: ${getStreamTypeName(stream.stream_type)}</p>
                            <p>–°—Ç–∞—Ç—É—Å: <span class="status-running">–†–∞–±–æ—Ç–∞–µ—Ç</span></p>
                            <button class="btn btn-danger" onclick="stopStream('${stream.stream_id}')">‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å</button>
                        </div>
                    `).join('');
                })
                .catch(error => {
                    document.getElementById('activeStreams').innerHTML = '<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∏–º–æ–≤</p>';
                });
        }

        function loadStreamsList() {
            fetch('http://localhost:8083/api/streams')
                .then(response => response.json())
                .then(streams => {
                    const container = document.getElementById('streamsList');
                    
                    if (streams.length === 0) {
                        container.innerHTML = '<p>–ù–µ—Ç —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö —Å—Ç—Ä–∏–º–æ–≤</p>';
                        return;
                    }
                    
                    container.innerHTML = streams.map(stream => `
                        <div class="stream-item">
                            <h4>${stream.metadata.title}</h4>
                            <p>–¢–∏–ø: ${getStreamTypeName(stream.stream_type)}</p>
                            <p>–°—Ç–∞—Ç—É—Å: <span class="status-${stream.status.toLowerCase()}">${getStatusName(stream.status)}</span></p>
                            <p>–°–æ–∑–¥–∞–Ω: ${new Date(stream.created_at).toLocaleString()}</p>
                            <div class="stream-actions">
                                <button class="btn btn-success" onclick="startStream('${stream.stream_id}')" 
                                        ${stream.status === 'Running' ? 'disabled' : ''}>
                                    ‚ñ∂Ô∏è –ó–∞–ø—É—Å—Ç–∏—Ç—å
                                </button>
                                <button class="btn btn-danger" onclick="stopStream('${stream.stream_id}')"
                                        ${stream.status === 'Stopped' ? 'disabled' : ''}>
                                    ‚èπÔ∏è –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                                </button>
                                <button class="btn btn-warning" onclick="deleteStream('${stream.stream_id}')">
                                    üóëÔ∏è –£–¥–∞–ª–∏—Ç—å
                                </button>
                            </div>
                        </div>
                    `).join('');
                })
                .catch(error => {
                    document.getElementById('streamsList').innerHTML = '<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å–ø–∏—Å–∫–∞ —Å—Ç—Ä–∏–º–æ–≤</p>';
                });
        }

        function loadCameras() {
            fetch('http://localhost:8083/api/cameras')
                .then(response => response.json())
                .then(cameras => {
                    const select = document.getElementById('cameraSelect');
                    select.innerHTML = '<option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–º–µ—Ä—É</option>';
                    
                    cameras.forEach(camera => {
                        const option = document.createElement('option');
                        option.value = camera.device_id;
                        option.textContent = `${camera.name} (${camera.resolution})`;
                        select.appendChild(option);
                    });
                })
                .catch(error => {
                    document.getElementById('cameraSelect').innerHTML = '<option value="">–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∫–∞–º–µ—Ä</option>';
                });
        }

        function createStream() {
            const streamType = document.getElementById('streamType').value;
            const title = document.getElementById('streamTitle').value;
            const quality = document.getElementById('streamQuality').value;
            const autoStart = document.getElementById('streamAutoStart').checked;
            
            if (!title) {
                alert('–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Å—Ç—Ä–∏–º–∞');
                return;
            }
            
            let requestData = {
                title: title,
                quality: quality,
                auto_start: autoStart
            };
            
            let endpoint = '';
            
            if (streamType === 'camera') {
                const deviceId = document.getElementById('cameraSelect').value;
                if (!deviceId) {
                    alert('–í—ã–±–µ—Ä–∏—Ç–µ –∫–∞–º–µ—Ä—É');
                    return;
                }
                requestData.device_id = deviceId;
                endpoint = 'http://localhost:8083/api/streams/camera';
            } else if (streamType === 'youtube') {
                const url = document.getElementById('youtubeUrl').value;
                if (!url) {
                    alert('–í–≤–µ–¥–∏—Ç–µ YouTube URL');
                    return;
                }
                requestData.url = url;
                endpoint = 'http://localhost:8083/api/streams/youtube';
            }
            
            fetch(endpoint, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(requestData)
            })
            .then(response => response.json())
            .then(result => {
                if (result.status === 'created') {
                    alert('–°—Ç—Ä–∏–º —Å–æ–∑–¥–∞–Ω —É—Å–ø–µ—à–Ω–æ!');
                    loadStreamsData();
                    // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
                    document.getElementById('streamTitle').value = '';
                    document.getElementById('youtubeUrl').value = '';
                } else {
                    alert('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∏–º–∞: ' + result.message);
                }
            })
            .catch(error => {
                alert('–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è —Å—Ç—Ä–∏–º–∞: ' + error.message);
            });
        }

        function startStream(streamId) {
            fetch(`http://localhost:8083/api/streams/start/${streamId}`, {
                method: 'POST'
            })
            .then(response => response.json())
            .then(result => {
                if (result.status === 'success') {
                    alert('–°—Ç—Ä–∏–º –∑–∞–ø—É—â–µ–Ω!');
                    loadStreamsData();
                } else {
                    alert('–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å—Ç—Ä–∏–º–∞: ' + result.message);
                }
            })
            .catch(error => {
                alert('–û—à–∏–±–∫–∞ –∑–∞–ø—É—Å–∫–∞ —Å—Ç—Ä–∏–º–∞: ' + error.message);
            });
        }

        function stopStream(streamId) {
            fetch(`http://localhost:8083/api/streams/stop/${streamId}`, {
                method: 'POST'
            })
            .then(response => response.json())
            .then(result => {
                if (result.status === 'success') {
                    alert('–°—Ç—Ä–∏–º –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
                    loadStreamsData();
                } else {
                    alert('–û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç—Ä–∏–º–∞: ' + result.message);
                }
            })
            .catch(error => {
                alert('–û—à–∏–±–∫–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å—Ç—Ä–∏–º–∞: ' + error.message);
            });
        }

        function deleteStream(streamId) {
            if (confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ—Ç —Å—Ç—Ä–∏–º?')) {
                // –ó–¥–µ—Å—å –±—É–¥–µ—Ç API –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∞
                alert('–§—É–Ω–∫—Ü–∏—è —É–¥–∞–ª–µ–Ω–∏—è —Å—Ç—Ä–∏–º–∞ –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏');
            }
        }

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏
        function loadImageManagementData() {
            loadUploadedImages();
            loadFaceSettings();
        }

        function loadUploadedImages() {
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            document.getElementById('uploadedImages').innerHTML = '<p>–°–ø–∏—Å–æ–∫ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω</p>';
        }

        function loadFaceSettings() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –ª–∏—Ü
            // –ó–¥–µ—Å—å –±—É–¥—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
        }

        function uploadImage() {
            const fileInput = document.getElementById('imageUpload');
            const category = document.getElementById('imageCategory').value;
            const description = document.getElementById('imageDescription').value;
            
            if (!fileInput.files.length) {
                alert('–í—ã–±–µ—Ä–∏—Ç–µ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏');
                return;
            }
            
            const formData = new FormData();
            formData.append('image', fileInput.files[0]);
            formData.append('category', category);
            formData.append('description', description);
            
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç API –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
            alert('–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–æ —É—Å–ø–µ—à–Ω–æ! (–§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏)');
            
            // –û—á–∏—Å—Ç–∏—Ç—å —Ñ–æ—Ä–º—É
            fileInput.value = '';
            document.getElementById('imageDescription').value = '';
        }

        function saveFaceSettings() {
            const enableBlur = document.getElementById('enableFaceBlur').checked;
            const enableReplacement = document.getElementById('enableFaceReplacement').checked;
            const blurIntensity = document.getElementById('blurIntensity').value;
            
            const settings = {
                enableBlur: enableBlur,
                enableReplacement: enableReplacement,
                blurIntensity: parseInt(blurIntensity)
            };
            
            // –ó–¥–µ—Å—å –±—É–¥–µ—Ç API –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–µ–∫
            alert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã! (–§—É–Ω–∫—Ü–∏—è –±—É–¥–µ—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –≤ —Å–ª–µ–¥—É—é—â–µ–π –≤–µ—Ä—Å–∏–∏)');
        }

        // –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
        function getStreamTypeName(type) {
            const types = {
                'Camera': 'üìπ –ö–∞–º–µ—Ä–∞',
                'YouTube': 'üì∫ YouTube',
                'File': 'üìÅ –§–∞–π–ª',
                'ScreenCapture': 'üñ•Ô∏è –ó–∞—Ö–≤–∞—Ç —ç–∫—Ä–∞–Ω–∞'
            };
            return types[type] || type;
        }

        function getStatusName(status) {
            const statuses = {
                'Stopped': '–û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω',
                'Starting': '–ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è',
                'Running': '–†–∞–±–æ—Ç–∞–µ—Ç',
                'Paused': '–ü—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω',
                'Error': '–û—à–∏–±–∫–∞'
            };
            return statuses[status] || status;
        }

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ç–∏–ø–∞ —Å—Ç—Ä–∏–º–∞
        document.getElementById('streamType').addEventListener('change', function() {
            const streamType = this.value;
            const cameraGroup = document.getElementById('cameraGroup');
            const youtubeGroup = document.getElementById('youtubeGroup');
            
            cameraGroup.style.display = streamType === 'camera' ? 'block' : 'none';
            youtubeGroup.style.display = streamType === 'youtube' ? 'block' : 'none';
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏–Ω—Ç–µ–Ω—Å–∏–≤–Ω–æ—Å—Ç–∏ —Ä–∞–∑–º—ã—Ç–∏—è
        document.getElementById('blurIntensity').addEventListener('input', function() {
            document.getElementById('blurValue').textContent = this.value;
        });

        // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Ñ–æ—Ä–º—ã –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∏
        document.getElementById('tokenomicsSettingsForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const settings = {
                st_per_gel: parseFloat(document.getElementById('stPerGel').value),
                max_streaming_minutes: parseInt(document.getElementById('maxStreamingMinutes').value),
                min_likes_for_comment: parseInt(document.getElementById('minLikesForComment').value),
                unused_checks_percentage: parseInt(document.getElementById('unusedChecksPercentage').value)
            };
            
            // –û—Ç–ø—Ä–∞–≤–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    method: 'update_tokenomics_settings',
                    params: settings
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    showAlert('–ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–æ–∫–µ–Ω–æ–º–∏–∫–∏ —É—Å–ø–µ—à–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã!', 'success');
                } else {
                    showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + (data.error || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞'), 'error');
                }
            })
            .catch(error => {
                showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: ' + error.message, 'error');
            });
        });

        // –§—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏ UT –≤ ST
        let utHolders = [];
        let selectedHolders = new Set();

        function loadUTHolders() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π UT —Å —Å–µ—Ä–≤–µ—Ä–∞
            fetch('http://localhost:3000', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    GetUTHolders: {}
                })
            })
            .then(response => response.json())
            .then(data => {
                if (data.UTHolders) {
                    utHolders = data.UTHolders.sort((a, b) => b.balance - a.balance);
                    displayUTHolders();
                }
            })
            .catch(error => {
                console.log('API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ');
                loadDemoUTHolders();
            });
        }

        function loadDemoUTHolders() {
            // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ –¥–ª—è –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π UT
            utHolders = [
                { address: '0x1234...5678', balance: 150, name: '–ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 1' },
                { address: '0x2345...6789', balance: 120, name: '–ê–∫—Ç–∏–≤–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å 2' },
                { address: '0x3456...7890', balance: 95, name: '–°—Ç—Ä–∏–º–µ—Ä –µ–¥—ã' },
                { address: '0x4567...8901', balance: 80, name: '–ü–æ—Å—Ç–æ—è–Ω–Ω—ã–π –∫–ª–∏–µ–Ω—Ç' },
                { address: '0x5678...9012', balance: 65, name: '–£—á–∞—Å—Ç–Ω–∏–∫ DAO' },
                { address: '0x6789...0123', balance: 45, name: '–õ–æ—è–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç' },
                { address: '0x7890...1234', balance: 30, name: '–ù–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' },
                { address: '0x8901...2345', balance: 20, name: '–¢–µ—Å—Ç–æ–≤—ã–π –∞–∫–∫–∞—É–Ω—Ç' },
                { address: '0x9012...3456', balance: 15, name: '–î–µ–º–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å' },
                { address: '0x0123...4567', balance: 10, name: '–ì–æ—Å—Ç—å' }
            ];
            displayUTHolders();
        }

        function displayUTHolders() {
            const container = document.getElementById('utHoldersList');
            container.innerHTML = '';

            utHolders.forEach((holder, index) => {
                const holderItem = document.createElement('div');
                holderItem.className = 'ut-holder-item';
                holderItem.innerHTML = `
                    <input type="checkbox" id="holder_${index}" value="${holder.address}" onchange="toggleHolder('${holder.address}')">
                    <label for="holder_${index}">
                        <span>${holder.name || holder.address}</span>
                        <span class="ut-balance">${holder.balance} SPOT</span>
                    </label>
                `;
                container.appendChild(holderItem);
            });
        }

        function toggleHolder(address) {
            const checkbox = document.querySelector(`input[value="${address}"]`);
            if (checkbox.checked) {
                selectedHolders.add(address);
            } else {
                selectedHolders.delete(address);
            }
            updateConversionSummary();
            updateConvertButton();
        }

        function toggleAllHolders() {
            const selectAllCheckbox = document.getElementById('selectAll');
            const holderCheckboxes = document.querySelectorAll('#utHoldersList input[type="checkbox"]');
            
            holderCheckboxes.forEach(checkbox => {
                checkbox.checked = selectAllCheckbox.checked;
                if (selectAllCheckbox.checked) {
                    selectedHolders.add(checkbox.value);
                } else {
                    selectedHolders.delete(checkbox.value);
                }
            });
            
            updateConversionSummary();
            updateConvertButton();
        }

        function updateConversionSummary() {
            const summaryContainer = document.getElementById('conversionSummary');
            const exchangeRate = parseInt(document.getElementById('exchangeRate').value) || 10;
            
            if (selectedHolders.size === 0) {
                summaryContainer.innerHTML = '<p>–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π UT –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —Å–≤–æ–¥–∫–∏</p>';
                return;
            }

            let totalSPOT = 0;
            let totalST = 0;
            let conversionDetails = [];

            selectedHolders.forEach(address => {
                const holder = utHolders.find(h => h.address === address);
                if (holder) {
                    const stToReceive = Math.floor(holder.balance / exchangeRate);
                    totalSPOT += holder.balance;
                    totalST += stToReceive;
                    conversionDetails.push({
                        name: holder.name || holder.address,
                        spot: holder.balance,
                        st: stToReceive
                    });
                }
            });

            let summaryHTML = `
                <div class="conversion-item">
                    <span>–í—Å–µ–≥–æ –≤—ã–±—Ä–∞–Ω–æ –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π:</span>
                    <span>${selectedHolders.size}</span>
                </div>
            `;

            conversionDetails.forEach(detail => {
                summaryHTML += `
                    <div class="conversion-item">
                        <span>${detail.name}:</span>
                        <span>${detail.spot} SPOT ‚Üí ${detail.st} ST</span>
                    </div>
                `;
            });

            summaryHTML += `
                <div class="conversion-item">
                    <span>–û–±—â–∞—è —Å—É–º–º–∞:</span>
                    <span>${totalSPOT} SPOT ‚Üí ${totalST} ST</span>
                </div>
            `;

            summaryContainer.innerHTML = summaryHTML;
        }

        function updateConvertButton() {
            const convertBtn = document.getElementById('convertBtn');
            convertBtn.disabled = selectedHolders.size === 0;
        }

        function executeConversion() {
            if (selectedHolders.size === 0) {
                showAlert('–í—ã–±–µ—Ä–∏—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ–≥–æ –¥–µ—Ä–∂–∞—Ç–µ–ª—è UT', 'error');
                return;
            }

            const exchangeRate = parseInt(document.getElementById('exchangeRate').value) || 10;
            const confirmMessage = `–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –∫–æ–Ω–≤–µ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å UT –≤ ST –ø–æ –∫—É—Ä—Å—É ${exchangeRate} SPOT = 1 ST –¥–ª—è ${selectedHolders.size} –¥–µ—Ä–∂–∞—Ç–µ–ª–µ–π?`;

            if (confirm(confirmMessage)) {
                // –û—Ç–ø—Ä–∞–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—é
                const conversionData = {
                    ConvertUTToST: {
                        holders: Array.from(selectedHolders),
                        exchange_rate: exchangeRate
                    }
                };

                fetch('http://localhost:3000', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(conversionData)
                })
                .then(response => response.json())
                .then(data => {
                    if (data.ConversionResult) {
                        showAlert('–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ!', 'success');
                        clearSelection();
                        loadUTHolders(); // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
                    } else {
                        showAlert('–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏', 'error');
                    }
                })
                .catch(error => {
                    console.log('API –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, —Å–∏–º—É–ª—è—Ü–∏—è –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏–∏');
                    showAlert('–ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ! (–¥–µ–º–æ-—Ä–µ–∂–∏–º)', 'success');
                    clearSelection();
                    loadDemoUTHolders(); // –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫
                });
            }
        }

        function clearSelection() {
            selectedHolders.clear();
            document.getElementById('selectAll').checked = false;
            const holderCheckboxes = document.querySelectorAll('#utHoldersList input[type="checkbox"]');
            holderCheckboxes.forEach(checkbox => {
                checkbox.checked = false;
            });
            updateConversionSummary();
            updateConvertButton();
        }

        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–≤–æ–¥–∫–∏ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫—É—Ä—Å–∞ –æ–±–º–µ–Ω–∞
        document.getElementById('exchangeRate').addEventListener('input', updateConversionSummary);

        document.addEventListener('DOMContentLoaded', function() {
            loadMonitoringData();
            // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω—é—é –¥–∞—Ç—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            document.getElementById('costDate').value = new Date().toISOString().split('T')[0];
        });
    </script>
</body>
</html>
