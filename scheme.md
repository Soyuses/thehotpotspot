# Блок-схема бизнес-логики Food Truck Network

## 🏗️ **Общая архитектура системы**

```
┌─────────────────────────────────────────────────────────────────┐
│                    FOOD TRUCK NETWORK                           │
│                    Blockchain Business Logic                    │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    CORE BUSINESS LAYER                          │
├─────────────────────────────────────────────────────────────────┤
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │   Recipe    │  │  Purchase   │  │    Cost     │             │
│  │ Management  │  │ Planning    │  │ Tracking    │             │
│  │             │  │             │  │             │             │
│  │ • Плов      │  │ • 1000      │  │ • 1320 лари │             │
│  │ • Хинкали   │  │   порций    │  │ • 264 токена│             │
│  │ • Хачапури  │  │ • 7 заказов │  │ • 100%      │             │
│  │             │  │   ингреди-  │  │   прозрач-  │             │
│  │             │  │   ентов     │  │   ность     │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                  TOKEN ECONOMICS LAYER                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │              Token Emission Formula                        │ │
│  │                                                             │ │
│  │  💰 Actual Cost: 1320 Lari                                 │ │
│  │  🪙 Token Rate: 1 Token = 5 Lari                           │ │
│  │  📊 Tokens to Emit: 1320 ÷ 5 = 264 Tokens                 │ │
│  │                                                             │ │
│  │  🔒 Security Tokens: 1,000,000 (50%)                      │ │
│  │  ⚡ Utility Tokens: 1,000,000 (50%)                       │ │
│  │  📈 Ratio: 1:1 (Fair Distribution)                        │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    BLOCKCHAIN LAYER                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │              Immutable Transaction History                 │ │
│  │                                                             │ │
│  │  📋 Purchase Records:                                      │ │
│  │  ├── INV-RICE-001: 220kg × 2 Lari/kg = 440 Lari           │ │
│  │  ├── INV-MEAT-001: 165kg × 5 Lari/kg = 825 Lari           │ │
│  │  └── INV-VEG-001: 55kg × 1 Lari/kg = 55 Lari              │ │
│  │                                                             │ │
│  │  🔐 Cryptographic Protection:                              │ │
│  │  ├── Digital Signatures (Ed25519)                          │ │
│  │  ├── Hash Functions (SHA-256)                              │ │
│  │  └── Merkle Trees                                          │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🔄 **Customer Journey Flow**

```
                    🍔 CUSTOMER ORDER
                           │
                           ▼
┌─────────────────────────────────────────────────────────────────┐
│                    ORDER PROCESSING                             │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │   Physical  │───▶│   QR Code   │───▶│  Anonymous  │         │
│  │    Check    │    │ Generation  │    │   Wallet    │         │
│  │             │    │             │    │  Creation   │         │
│  │ • Order ID  │    │ • Check ID  │    │ • Wallet    │         │
│  │ • Amount    │    │ • Activation│    │   Address   │         │
│  │ • Items     │    │   Code      │    │ • Tokens    │         │
│  │ • Timestamp │    │ • Wallet    │    │   Reserved  │         │
│  │             │    │   Address   │    │             │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
└─────────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────────┐
│                    CUSTOMER DECISION                            │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🤔 Customer Choice (Mental Decision):                         │
│                                                                 │
│  ┌─────────────────┐              ┌─────────────────┐          │
│  │   Option A:     │              │   Option B:     │          │
│  │   Discard       │              │   Scan QR       │          │
│  │   Check         │              │   Code          │          │
│  │                 │              │                 │          │
│  │  🗑️ Throw away  │              │  📱 Mobile App  │          │
│  │  ❌ No action   │              │  🔗 Link wallet │          │
│  │  💰 Tokens stay │              │  ✅ Activate    │          │
│  │     anonymous   │              │     tokens      │          │
│  └─────────────────┘              └─────────────────┘          │
└─────────────────────────────────────────────────────────────────┘
                           │
                           ▼
┌─────────────────────────────────────────────────────────────────┐
│                    TOKEN DISTRIBUTION                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📊 End of Year Distribution:                                   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Unactivated Tokens → Network Participants                 │ │
│  │                                                             │ │
│  │  • Franchise Owners: 40%                                   │ │
│  │  • Network Owner: 30%                                      │ │
│  │  • Validators: 20%                                         │ │
│  │  • Development Fund: 10%                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🏪 **Franchise Network Business Logic**

```
┌─────────────────────────────────────────────────────────────────┐
│                    FRANCHISE OPERATIONS                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐         │
│  │   Recipe    │───▶│  Ingredient │───▶│  Purchase   │         │
│  │  Planning   │    │ Calculation │    │  Planning   │         │
│  │             │    │             │    │             │         │
│  │ • Menu      │    │ • Per 1000  │    │ • Auto      │         │
│  │   items     │    │   portions  │    │   orders    │         │
│  │ • Portions  │    │ • Waste     │    │ • Supplier  │         │
│  │ • Timing    │    │   factor    │    │   selection │         │
│  │             │    │   10%       │    │ • Delivery  │         │
│  └─────────────┘    └─────────────┘    └─────────────┘         │
│         │                   │                   │              │
│         ▼                   ▼                   ▼              │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │              Cost Tracking & Token Emission                │ │
│  │                                                             │ │
│  │  📊 Example: 1000 Plov Portions                            │ │
│  │  ├── Rice: 220kg × 2 Lari/kg = 440 Lari                   │ │
│  │  ├── Meat: 165kg × 5 Lari/kg = 825 Lari                   │ │
│  │  ├── Vegetables: 55kg × 1 Lari/kg = 55 Lari               │ │
│  │  └── Total: 1320 Lari → 264 Tokens                        │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    SUPPLIER MANAGEMENT                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🏭 Supplier Network:                                           │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ РисТрейд    │  │ МясоМаркет  │  │ ОвощиПлюс   │             │
│  │             │  │             │  │             │             │
│  │ • Rice      │  │ • Beef      │  │ • Onions    │             │
│  │ • 2 Lari/kg │  │ • 5 Lari/kg │  │ • 1 Lari/kg │             │
│  │ • 2 days    │  │ • 1 day     │  │ • 1 day     │             │
│  │ • 95% rel.  │  │ • 90% rel.  │  │ • 85% rel.  │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
│                                                                 │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐             │
│  │ СпецииМир   │  │ МаслоТрейд  │  │ СырМаркет   │             │
│  │             │  │             │  │             │             │
│  │ • Spices    │  │ • Oil       │  │ • Cheese    │             │
│  │ • 0.5-20    │  │ • 3 Lari/kg │  │ • 8 Lari/kg │             │
│  │   Lari/kg   │  │ • 2 days    │  │ • 1 day     │             │
│  │ • 3 days    │  │ • 92% rel.  │  │ • 87% rel.  │             │
│  └─────────────┘  └─────────────┘  └─────────────┘             │
└─────────────────────────────────────────────────────────────────┘
```

## 💰 **Cost Tracking & Transparency**

```
┌─────────────────────────────────────────────────────────────────┐
│                    COST TRANSPARENCY SYSTEM                    │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📋 Purchase Verification:                                      │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Invoice Validation Process                                │ │
│  │                                                             │ │
│  │  1. 📄 Invoice Number (INV-001, INV-002, etc.)            │ │
│  │  2. 🏭 Supplier Verification                               │ │
│  │  3. 💰 Amount Validation                                   │ │
│  │  4. 📅 Date & Time Stamping                                │ │
│  │  5. 🔐 Cryptographic Signing                               │ │
│  │  6. 📊 Blockchain Recording                                │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  🎯 Transparency Metrics:                                       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • 100% Invoices have numbers                              │ │
│  │  • 100% Transactions are verifiable                        │ │
│  │  • 100% Records are immutable                              │ │
│  │  • Real-time audit reports                                 │ │
│  │  • Public verification API                                 │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    EFFICIENCY ANALYSIS                          │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📊 Performance Metrics:                                        │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Planned vs Actual Costs:                                  │ │
│  │                                                             │ │
│  │  📈 Planned: 1,188 Lari (90% of actual)                   │ │
│  │  📊 Actual: 1,320 Lari                                     │ │
│  │  📉 Variance: +132 Lari (+11.1%)                          │ │
│  │                                                             │ │
│  │  🎯 Waste Percentage: 10%                                  │ │
│  │  ⏱️ Delivery Performance: 95% on-time                      │ │
│  │  💯 Quality Score: 92%                                     │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🔐 **Security & Compliance**

```
┌─────────────────────────────────────────────────────────────────┐
│                    SECURITY FRAMEWORK                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🛡️ Multi-Layer Security:                                       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Layer 1: Cryptographic Protection                         │ │
│  │  ├── Ed25519 Digital Signatures                            │ │
│  │  ├── SHA-256 Hash Functions                                │ │
│  │  └── Merkle Tree Verification                              │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Layer 2: Consensus Security                               │ │
│  │  ├── Proof of Stake (PoS)                                  │ │
│  │  ├── Validator Selection                                   │ │
│  │  └── Slashing Conditions                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Layer 3: Compliance & Legal                               │ │
│  │  ├── KYC/AML Verification                                  │ │
│  │  ├── GDPR Compliance                                       │ │
│  │  └── Georgian Law Compliance                               │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
                                │
                                ▼
┌─────────────────────────────────────────────────────────────────┐
│                    BLOCKCHAIN INTEGRITY                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  🔒 Immutable Record Keeping:                                   │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Transaction Lifecycle:                                    │ │
│  │                                                             │ │
│  │  1. 📝 Transaction Creation                                │ │
│  │  2. ✍️ Digital Signature                                  │ │
│  │  3. 🔗 Block Formation                                     │ │
│  │  4. ✅ Consensus Validation                                │ │
│  │  5. 📊 Blockchain Recording                                │ │
│  │  6. 🔍 Public Verification                                 │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  🎯 Integrity Guarantees:                                       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  ✅ Tamper-Proof Records                                   │ │
│  │  ✅ Cryptographic Verification                             │ │
│  │  ✅ Decentralized Validation                               │ │
│  │  ✅ Public Audit Trail                                     │ │
│  │  ✅ Real-time Monitoring                                   │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 📱 **Mobile App Integration**

```
┌─────────────────────────────────────────────────────────────────┐
│                    MOBILE APPLICATION FLOW                      │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📱 Customer Mobile App:                                        │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Registration Process:                                     │ │
│  │                                                             │ │
│  │  1. 📱 Download App (APK/IPA)                             │ │
│  │  2. 📞 Phone Number Login                                  │ │
│  │  3. 👤 Personal Information:                               │ │
│  │     ├── Full Name                                          │ │
│  │     ├── Email Address                                      │ │
│  │     ├── T-shirt Size (XXS-XXL)                            │ │
│  │     ├── Favorite Dish                                      │ │
│  │     └── Password (KYC Compliant)                          │ │
│  │  4. 📷 QR Code Scan (Mandatory)                           │ │
│  │  5. 🔗 Wallet Linking                                      │ │
│  │  6. ✅ Account Activation                                  │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  🔄 Token Transfer Process:                                     │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  Anonymous → Personal Wallet Transfer:                     │ │
│  │                                                             │ │
│  │  1. 📷 Scan QR from Check                                  │ │
│  │  2. 🔍 Verify Check ID                                     │ │
│  │  3. 💰 Check Token Balance                                 │ │
│  │  4. 🔐 Sign Transaction                                    │ │
│  │  5. 📊 Blockchain Recording                                │ │
│  │  6. ✅ Transfer Confirmation                               │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🎯 **Business Value Proposition**

```
┌─────────────────────────────────────────────────────────────────┐
│                    VALUE DELIVERY MODEL                         │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  💎 For Network Owner:                                          │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • 100% Cost Transparency                                  │ │
│  │  • Automated Purchase Planning                             │ │
│  │  • Real-time Financial Reporting                           │ │
│  │  • Fraud Prevention                                        │ │
│  │  • Regulatory Compliance                                   │ │
│  │  • Token-based Incentive System                            │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  🏪 For Franchise Owners:                                       │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • Automated Ingredient Planning                           │ │
│  │  • Supplier Optimization                                   │ │
│  │  • Cost Tracking & Analysis                                │ │
│  │  • Performance Metrics                                     │ │
│  │  • Token Rewards                                           │ │
│  │  • Transparent Operations                                  │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  👥 For Customers:                                              │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • Token Rewards for Purchases                             │ │
│  │  • Transparent Food Chain                                  │ │
│  │  • Mobile App Convenience                                  │ │
│  │  • Fair Token Distribution                                 │ │
│  │  • Community Participation                                 │ │
│  │  • Quality Assurance                                       │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 📊 **Key Performance Indicators (KPIs)**

```
┌─────────────────────────────────────────────────────────────────┐
│                    SUCCESS METRICS                              │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📈 Financial KPIs:                                             │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • Cost Accuracy: 95%+                                     │ │
│  │  • Token Emission Accuracy: 100%                           │ │
│  │  • Transparency Score: 100%                                │ │
│  │  • Fraud Prevention: 99.9%                                 │ │
│  │  • Supplier Performance: 90%+                              │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  🎯 Operational KPIs:                                           │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • Purchase Planning Accuracy: 90%+                        │ │
│  │  • Delivery On-time Rate: 95%+                             │ │
│  │  • Waste Reduction: 10%                                    │ │
│  │  │  │  • Customer Satisfaction: 95%+                       │ │
│  │  • Mobile App Adoption: 80%+                               │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  🔒 Security KPIs:                                              │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  • Transaction Integrity: 100%                             │ │
│  │  • KYC Compliance: 100%                                    │ │
│  │  • Data Protection: 100%                                   │ │
│  │  • Audit Trail Completeness: 100%                          │ │
│  │  • Regulatory Compliance: 100%                             │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

## 🚀 **Implementation Roadmap**

```
┌─────────────────────────────────────────────────────────────────┐
│                    DEVELOPMENT PHASES                           │
├─────────────────────────────────────────────────────────────────┤
│                                                                 │
│  📅 Phase 1: Foundation (Completed)                             │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  ✅ Recipe Management System                               │ │
│  │  ✅ Purchase Planning Automation                           │ │
│  │  ✅ Cost Tracking & Token Calculation                     │ │
│  │  ✅ Blockchain Integration                                 │ │
│  │  ✅ Transparency Framework                                 │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  📅 Phase 2: Enhancement (1-2 weeks)                           │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  🔄 Web Interface Updates                                  │ │
│  │  🔄 API Endpoints Creation                                 │ │
│  │  🔄 Mobile App Integration                                 │ │
│  │  🔄 Real-time Notifications                                │ │
│  └─────────────────────────────────────────────────────────────┘ │
│                                                                 │
│  📅 Phase 3: Scale (1-2 months)                                │
│                                                                 │
│  ┌─────────────────────────────────────────────────────────────┐ │
│  │  🚀 Supplier API Integration                               │ │
│  │  🚀 Machine Learning Demand Forecasting                    │ │
│  │  🚀 Advanced Analytics                                     │ │
│  │  🚀 Multi-region Expansion                                 │ │
│  └─────────────────────────────────────────────────────────────┘ │
└─────────────────────────────────────────────────────────────────┘
```

---

## 🎯 **Summary**

Эта блок-схема представляет полную бизнес-логику Food Truck Network, включая:

1. **Автоматизированное планирование** закупок на основе рецептов
2. **Прозрачную токеномику** с формулой 1 токен = 5 лари
3. **Неподдельную историю** операций в блокчейне
4. **Справедливое распределение** токенов 1:1
5. **Полную прозрачность** всех операций
6. **Customer Journey** с QR-кодами и мобильным приложением
7. **Многоуровневую безопасность** и соответствие требованиям

**Система готова к продуктивному использованию!** 🚀
